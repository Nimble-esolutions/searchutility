{% load static i18n %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% trans "Login - CC & RCS Maharashtra" %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="{% trans 'Commissioner for Cooperation and Registrar, Cooperative Societies, Maharashtra State, Pune' %}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="{% static 'main/css/style.css' %}">
  <style>
    /* Header image and overlay */
    header {
      position: relative;
      width: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
      z-index: 1;
    }

    header img {
      width: 100%;
      height: auto;
      display: block;
    }

    header .overlay-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      color: #000;
      z-index: 2; /* text above image */
    }

    /* Login card */
    .login-bg {
      position: relative;
      z-index: 3; /* above header if overlapping */
    }

    /* Footer */
    footer {
      position: relative;
      z-index: 1;
    }
  </style>
</head>
<body>

<!-- Header Section -->
<header>
  <img src="{% static 'main/images/banner-opt-2-wotxt.png' %}" alt="Banner">
  <div class="overlay-text">
    <h5 class="fw-bold mb-1">{% trans "Commissioner for Cooperation and Registrar," %}</h5>
    <h6 class="fw-bold mb-1">{% trans "Cooperative Societies (CC and RCS), Maharashtra State, Pune" %}</h6>
  </div>
</header>

<!-- Login Section -->
<div class="login-bg d-flex justify-content-center align-items-center" style="min-height: 80vh; background-color: #f0f0f0;">
  <div class="card shadow-sm p-4" style="max-width: 400px; width: 100%;">
    <h4 class="text-center mb-4">{% trans "Login" %}</h4>

    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-danger">{{ message }}</div>
      {% endfor %}
    {% endif %}

    <form method="post" action="{% url 'login' %}">
      {% csrf_token %}
      <div class="mb-3">
        <label for="id_username" class="form-label">{% trans "Username" %}</label>
        <input type="text" name="username" autofocus required id="id_username"
               class="form-control" placeholder="{% trans 'Enter username' %}">
      </div>
      <div class="mb-3 position-relative">
        <label for="id_password" class="form-label">{% trans "Password" %}</label>
        <input type="password" name="password" required id="id_password"
               class="form-control" placeholder="{% trans 'Enter password' %}">
        <span id="togglePassword" style="position:absolute; top:38px; right:10px; cursor:pointer;">ğŸ‘ï¸</span>
      </div>
      <input type="hidden" name="next" value="{{ next }}">
      <button type="submit" class="btn btn-primary w-100">{% trans "Login" %}</button>
    </form>
  </div>
</div>

<!-- Footer -->
<footer class="bg-light py-2 border-top">
  <div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <small>{% trans "Â© 2025 Sahakarayukta Website. All rights reserved." %}</small>
      </div>
      <div class="d-flex gap-3">
        <a href="http://india.gov.in/" target="_blank">
          <img src="{% static 'main/images/logoIndia1.jpg' %}" alt="Logo 1" height="20">
        </a>
        <a href="http://validator.w3.org/check?uri=referer" target="_blank">
          <img src="{% static 'main/images/valid-xhtml10.gif' %}" alt="Logo 2" height="20">
        </a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
          <img src="{% static 'main/images/vcss.gif' %}" alt="Logo 3" height="20">
        </a>
        <a href="https://mahait.org/" target="_blank">
          <img src="{% static 'main/images/MahaIT_Logo.png' %}" alt="Logo 4" height="40">
        </a>
      </div>
    </div>
  </div>
</footer>

<script>
const togglePassword = document.querySelector('#togglePassword');
const passwordInput = document.querySelector('#id_password');

togglePassword.addEventListener('click', function () {
    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
    passwordInput.setAttribute('type', type);
    this.textContent = type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
});
</script>

</body>
</html>
